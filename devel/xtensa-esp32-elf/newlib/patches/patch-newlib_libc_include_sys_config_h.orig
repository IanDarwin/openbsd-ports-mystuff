$OpenBSD$

Index: newlib/libc/include/sys/config.h
--- newlib/libc/include/sys/config.h.orig
+++ newlib/libc/include/sys/config.h
@@ -199,6 +199,13 @@
 #define MALLOC_ALIGNMENT ((XCHAL_DATA_WIDTH) < 16 ? 16 : (XCHAL_DATA_WIDTH))
 /* esp8266-specific: shrink the default fd buffer size */
 #define __BUFSIZ__ 128
+#ifndef __DYNAMIC_REENT__
+#define __DYNAMIC_REENT__
+#endif
+#ifndef _REENT_SMALL
+#define _REENT_SMALL
+#endif
+#define HAVE_GETOPT
 #endif
 
 /* This block should be kept in sync with GCC's limits.h.  The point
