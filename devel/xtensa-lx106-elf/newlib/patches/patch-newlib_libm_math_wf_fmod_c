$OpenBSD$

Index: newlib/libm/math/wf_fmod.c
--- newlib/libm/math/wf_fmod.c.orig
+++ newlib/libm/math/wf_fmod.c
@@ -34,7 +34,7 @@
 	struct exception exc;
 	z = __ieee754_fmodf(x,y);
 	if(_LIB_VERSION == _IEEE_ ||isnan(y)||isnan(x)) return z;
-	if(y==(float)0.0) {
+	if(y==(float)0.0 || !finite(x)) {
             /* fmodf(x,0) */
             exc.type = DOMAIN;
             exc.name = "fmodf";
